# Network Connect Options introduce

![diverse-ways-to-connect-network](https://github.com/nmin11/TIL/assets/75058239/d7a94e4a-1864-43a6-a8d0-b68b51ebc67c)

## VPC Peering

- 서로 다른 두 VPC 간 연결을 구성하여 private IP 주소를 통해 통신할 수 있는 기능 제공
- 마치 동일한 네트워크에 있는 것처럼 통신 가능

![vpc-peering](https://github.com/nmin11/TIL/assets/75058239/326fe8c1-e34b-4083-9d4f-6169de5ce57a)

## VPN (Virtual Private Network)

- public internet을 통해 가상의 private network를 구성하여 private 통신을 제공
- 데이터 암호화, 전용 연결 등 여러 보안 요구사항 충족 가능
- AWS의 관리형 VPN 서비스
  - **Site-to-Site VPN**
  - **Client VPN**

![site-to-site-vpn](https://github.com/nmin11/TIL/assets/75058239/b47547d6-a5f5-4517-bbcc-cee6c2d904ce)

![client-vpn](https://github.com/nmin11/TIL/assets/75058239/37a511ee-103c-43c3-8f0d-c492811cb253)

## Transit Gateway

- VPC나 On-Premises 등의 네트워크를 단일 지점으로 연결할 수 있는 라우팅 서비스
- 관리 간소화 및 운영 비용 최소화

![transit-gateway](https://github.com/nmin11/TIL/assets/75058239/f44e22b4-9fbb-405b-845b-e919987fa300)

## Route 53 Resolver

- VPN이나 Direct Connect로 연결되는 하이브리드 환경에서 On-premises와 AWS VPC 간 domain query는 불가능
- 이를 Route 53 Resolver를 통해 가능하게 만들 수 있음

![route-53-resolver](https://github.com/nmin11/TIL/assets/75058239/627e7053-72a5-4b35-be6b-64341f63e33f)

## Direct Connect

- data center, 본사 사무실 또는 Co-location 환경의 장소들에서 AWS와의 전용 네트워크 연결을 제공하는 옵션

![direct-connect](https://github.com/nmin11/TIL/assets/75058239/deb2a9fb-df74-4b78-8aa3-c5fc06835202)

<br>

# VPC Peering

## Introduce

- 서로 다른 두 VPC 간 연결을 구성해서 private IP 주소를 통해 통신할 수 있도록 하는 기능
- 마치 동일한 네트워크에 있는 듯한 통신

## Features

**High-speed network, Encrypt traffic and reduce costs**

- AWS 백본 네트워크를 경유하는 고속 통신

**Support for cross-region VPC peering**

- 중국 region을 제외하고 가능

**Support for VPC peering between other accounts**

- 리소스 중복 사용 최소화 및 비용 절감

## Constraints

**Use different VPC CIDRs**

- VPC peering을 구성하는 각 VPC에 할당된 IP CIDR 중복 X
- VPC 설계 단계에서 고려해야 할 부분

**Transit Routing not supported**

- 상대 대역 이외 다른 IP CIDR 대역과의 통신 불가
- 상대방 VPC에 구성된 Internet Gateway, NAT Gateway, VPN - Direct Connect와 통신 불가

**VPC peering maximum connection limit**

- 한 번에 한 쌍의 연결만 가능
- 연결 한도는 기본 50개
  - AWS에 추가 요청하여 최대 125개까지 증설 가능
  - 증설하는 경우 Route Table의 최대한도를 함께 높이는 것이 좋음
  - 다수의 VPC를 서로 연결하는 경우 복잡성이 높아지므로 Transit Gateway 사용 권장
