## RDS(Relational Database Service) Overview

- 관계형 데이터베이스 서비스를 나타냄
- SQL을 쿼리 언어로 사용하는 DB를 위한 관리형 DB
- 클라우드에 데이터베이스를 생성할 수 있으며, 이는 AWS 상에서 관리됨
- AWS에서 관리하는 엔진 타입
  - Postgres
  - MySQL
  - MariaDB
  - Oracle
  - Microsoft SQL Server
  - Aurora (AWS Proprietary database)

### DB를 EC2에 설치하지 않고 RDS를 사용했을 때의 이점

- 관리형 서비스이기 때문
  - AWS가 데이터베이스 뿐만 아니라 각종 기타 서비스들을 제공
  - 프로비저닝 완전 자동화 및 기본 운영체제 패치 자동화
  - 지속적인 백업 수행
    - 특정 timestamp로 복구 가능하며, 이를 PITR(Point In Time Restore)이라고 부름
  - Monitoring dashboard를 통해서 DB 성능 확인 가능
  - 읽기 성능 향상을 목적으로 하는 읽기 전용 복제본
  - DR(Disaster Recovery)을 위한 multi AZ 설정 가능
  - 업그레이드를 위한 유지보수
  - scaling capacity (vertical and horizontal)
  - 스토리지는 EBS 기반 (gp2 or io1)
- 하지만 RDS 인스턴스를 위한 SSH를 따로 가질 수는 없음

### RDS Backups

- RDS에서 자동으로 활성화
- 자동으로 백업
  - 정의해 놓은 유지 관리 기간 동안 매일 수행되는 DB 전체에 대한 백업
  - 일일 트랜잭션 로그가 매 5분마다 RDS에 백업
  - 위 2가지를 활용해서 그 어떤 지정 시점으로든 DB를 복원할 수 있음
  - 자동 백업은 기본적으로는 7일 보관 (최대 35일까지 연장 가능)
- DB Snapshots
  - 사용자가 수동으로 발동시키는 백업
  - 백업 보관 기간을 사용자가 임의로 설정할 수 있음

### RDS - Storage Auto Scaling

- RDS DB 생성시 원하는 스토리지 용량을 지정해야 함
- DB 사용량이 많고 가용 공간이 부족해지는 경우 Storage Auto Scaling 기능이 활성화되어 있으면<br>RDS가 이를 감지해서 자동으로 스토리지에 대한 스케일링 수행
- DB 스토리지를 수동으로 확장하는 일이 없도록 하는 것이 핵심
- 이를 위해서 **Maximum Storage Threshold**를 설정해야 함
- 스토리지 자동 수정 예시
  - 가용 스토리지가 10% 미만으로 떨어졌을 때
  - 낮은 스토리지 용량이 5분 이상 지속되었을 때
  - 마지막 수정 이후 6시간이 지났을 때
- 예측 불가능한 workload들에 유용
- MariaDB, MySQL, PostgreSQL, SQL Server, Oracle 등 모든 RDS DB 엔진 지원
