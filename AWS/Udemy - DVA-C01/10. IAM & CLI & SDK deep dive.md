## AWS CLI

### Dry Runs

- 가끔 우리는 권한이 있는지 여부를 확인해야 함
  - 하지만 명령을 실행하고 싶진 않을 때!
  - EC2 명령 같은 일부 AWS CLI 명령은 성공 비용이 부담스러울 수 있음
- 몇몇 AWS CLI 명령들은 `--dry-run` 옵션을 통해 API를 simulate할 수 있음
  - 작업에 대한 권한이 있는지를 확인할 때 유용

### STS Decode Errors

- API 호출이 실패했을 때, 긴 에러 메시지를 받을 수 있음
- 이 에러 메시지는 **STS** command line을 통해 decode 가능
- `aws sts decode-authorization-message --encoded-message <value>`
- 이 작업 역시 STS 관련 IAM Role을 부여받아야 가능한 작업
  - DecodeAuthorizationMessage

<br>

## AWS EC2 Instance Metadata

- 매우 강력한 기능이지만 개발자들에게 잘 알려져 있지 않음
- EC2 instances to "learn about themselves"
  - **IAM Role을 직접 사용하지 않고!**
- URL: http://169.254.169.254/latest/meta-data
  - 오직 EC2 인스턴스 안에서만 동작하는 주소
- metadata로부터 IAM Role name을 검색할 수 있지만 IAM Policy를 검색할 순 없음
- Metadata = Info about the EC2 instance
- Userdata = launch script of the EC2 instance
