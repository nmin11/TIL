## Section introduction

- Amazon S3는 AWS의 중요한 main building block
- "infinitely scaling" 스토리지로 알려져 있음
- 많은 AWS 서비스들이 S3를 통합적으로 사용

<br>

## Buckets

- S3는 객체를 저장하게 해주는 시스템이자 서비스
  - 파일이 버켓 또는 디렉토리에 있게 됨
- 버켓은 **globally unique name**을 가짐
- Region level에서 정의됨
  - 글로벌 서비스이지만 Region을 특정해야 함
- Naming convention
  - No uppercase
  - No underscore
  - 3-63 characters
  - Not an IP
  - Start with letter or number

<br>

## Objects

- 객체는 파일이며, Key를 가짐
- **Key** : FULL path
  - 예시
    - my_file.txt
    - my_folder/another_folder/my_file.txt
- 키는 _prefix_ 와 _object name_ 으로 구성됨
- 버킷 내에는 "directory" 개념이 없음
  - 그저 키 이름만 계속 길어지는 것!
  - 그래도 UI는 우리가 디렉토리를 생성하는 것처럼 느껴지게 함
  - S3에서 가질 수 있는 것은 `/`를 포함하는 매우 긴 이름의 키뿐
- **Object values** : 본문 내용
  - 최대 5TB
  - 한 번에 5GB까지 업로드 가능
  - 5GB 넘게 업로드하려면 반드시 "multi-part upload"를 사용해야 함
    - 5GB 단위로 나눠서 각각 업로드하는 방식
- **Metadata** : list of text key-value paire
  - 시스템이나 사용자 메타데이터에서 사용
  - 객체에 정보와 태그를 추가할 때 사용
- **Tags** : Unicode key-value paire - up to 10
  - security 및 lifecycle에 유용
- **Version ID**

<br>

## Versioning

- 파일의 버전 관리를 할 수 있음
- **bucket level**에서 활성화되어야 함
- 같은 키에 파일을 덮어쓰는 경우 버전을 증가시키는 방식
  - 사실은 덮어쓰는 게 아니라 해당 파일의 새로운 버전을 생성
- 버전 관리는 best practice
  - 이전 버전을 복원할 수 있기 때문에 원치 않는 삭제로부터 보호
  - 이전 버전으로의 roll back이 쉬움
- Notes:
  - 버저닝을 활성화하기 전에 버전 관리되지 않은 파일은 "null" 버전이 됨
  - 버켓에서 버저닝을 중단하면 이전 버전들이 삭제되는 것이 아니라, 이후의 파일이 버전을 할당받지 못하게 됨
