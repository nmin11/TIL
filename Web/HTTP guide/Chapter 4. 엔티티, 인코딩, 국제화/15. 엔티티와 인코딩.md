- HTTP는 매일 수십억 개의 미디어 객체를 실어 나름
- HTTP는 메시지가 올바르게 수송되고, 식별되고, 추출되고, 처리되는 것을 보장함

※ HTTP가 보장하는 것들

- Content-Type과 Content-Language 헤더를 통해 객체를 올바르게 식별
- Content-Length와 Content-Encoding 헤더를 통해 객체는 올바르게 압축이 풀릴 것
- 엔티티 검사기와 캐시 만료 제어를 이용해서 객체는 항상 최신의 상태를 유지
- 내용 협상을 위한 Accept 관련 헤더들에 기반하여 사용자의 요구를 만족
- 데이터 압축을 이용해서 네트워크 사이를 빠르고 효율적으로 이동
- 전송 인코딩 헤더 및 Content-MD5 체크섬을 이용하기 때문에 조작되지 않을 것

<br>

- HTTP는 컨텐츠를 나르기 위해 잘 라벨링된 엔티티 사용
- 이 장에서는 엔티티 및 연관 헤더들이 웹상의 화물 수송을 위해 어떤 일을 하는지 논의할 것
  - HTTP가 어떻게 컨텐츠 크기, 타입, 인코딩에 대한 필수적인 값들을 제공하는지
  - HTTP 엔티티, range request, delta encoding, digest, chunked encoding 등 복잡하지만 강력한 기능들을 다룰 것

※ 이번 장에서 다룰 내용들

- HTTP 메시지를 담는 컨테이너인 HTTP 메시지 엔티티의 포맷과 작동 방식
- HTTP가 어떻게 엔티티 본문의 크기를 기술하는지
- 클라이언트가 컨텐츠를 바르게 처리할 수 있도록 제공되는 엔티티 헤더들
- 컨텐츠 인코딩
- 특정 종류의 컨텐츠 송수신 개선을 위한 전송 인코딩과 청크 인코딩
- 최신 버전을 전송할 수 있게 도와주는 태그, 라벨, 시간, 체크섬
- 버전 검사기와 최신 상태 유지를 돕는 HTTP 헤더 필드들
- 중단되었던 다운로드를 재개할 때 유용한 범위 요청
- 이미 본 페이지는 변경 부분만 재요청하게 해주는 HTTP 델타 인코딩 확장
- 프록시를 지나는 중 변경되지는 않았는지 검증하는 엔티티 본문 체크섬

<br>

## 1. 메시지는 컨테이너, 엔티티는 화물

※ HTTP/1.1의 12가지 주요 엔티티 헤더 필드

- **Content-Type** : 엔티티에 의해 전달된 객체 종류
- **Content-Length** : 전달되는 메시지의 길이나 크기
- **Content-Language** : 전달되는 객체와 가장 잘 대응되는 자연어
- **Content-Encoding** : 객체 데이터에 행해진 변형
- **Content-Location** : 요청 시점에 객체의 또 다른 위치
- **Content-Range** : 엔티티 전체에서 어느 부분에 해당하는지
- **Content-MD5** : 엔티티 본문의 컨텐츠에 대한 체크섬
- **Last-Modified** : 서버에서 컨텐츠가 생성되거나 수정된 날
- **Expires** : 엔티티 데이터의 신선도가 만료되는 날짜 및 시각
- **Allow** : 리소스에 대해 어떤 요청 메소드가 허용되는지
- **ETag** : 인스턴스에 대한 고유 검사기
- **Cache-Control** : 어떻게 문서가 캐시될 수 있는지에 대한 지시자

### 1.1 엔티티 본문

- 가공되지 않은 데이터만을 담고 있으며, 다른 정보들은 모두 헤더에 담겨 있음
  - 그렇기 때문에 엔티티 헤더는 날 데이터에 대해 설명할 필요가 있음
- 엔티티 본문은 헤더 필드의 끝을 의미하는 빈 CRLF 줄 바로 다음부터 시작
  - 컨텐츠가 텍스트든, binary든, 이미지든, 압축되었든, 프랑스어든, 일본어든 상관없이 항상
