**웹 서버는 누구인가?**

- 웹 서버는 매일 수십억 개의 웹페이지를 쏟아냄
- 웹 서버는 당신에게 날씨를 알려주고, 온라인 쇼핑 카트에 물건을 싣고, 오랫동안 만나지 못한 옛날 친구를 찾을 수 있게 해줌
- 웹 서버는 WWW의 일꾼이라고 할 수 있음

**이번 장에서 다룰 내용**

- 여러 종류의 소프트웨어 및 하드웨어 웹 서버에 대한 조사
- 간단한 웹 서버를 Perl 언어로 작성해보기
- 어떻게 웹 서버가 HTTP 트랜잭션을 처리하는지에 대한 단계별 설명

<br>

## 1. 다채로운 웹 서버

- 웹 서버는 HTTP 요청을 처리하고 응답을 제공
- '웹 서버'라는 용어는 웹 서버 소프트웨어 및 웹페이지 제공에 특화된 장비 양쪽 모두를 가리킴
- 웹 서버는 기능, 형태, 크기가 다양함
- 기능은 다르더라도 모든 웹 서버는 리소스에 대한 HTTP 요청을 받아서 컨텐츠를 클라이언트에게 돌려준다는 점은 동일함

### 1.1 웹 서버 구현

- 웹 서버는 HTTP 및 관련된 TCP 처리를 구현한 것
- HTTP 프로토콜을 구현하고, 웹 리소스를 관리하고, 웹 서버 관리 기능을 제공함
- TCP 커넥션 관리에 대한 책임을 운영체제와 나눠 가짐
  - 운영체제는 컴퓨터 시스템의 하드웨어 관리, TCP/IP 네트워크 지원, 웹 리소스 유지를 위한 파일 시스템,<br>연산 활동을 제어하기 위한 프로세스 관리 기능을 제공해줌
- 웹 서버의 활용 예시
  - 다목적 소프트웨어 웹 서버를 표준 컴퓨터 시스템에 설치 및 실행 가능
  - 전자기기 안에 몇 개의 컴퓨터 칩만으로 구현된 웹 서버를 내장시켜서 완전한 관리 콘솔로 제공하기도 함

### 1.2 다목적 소프트웨어 웹 서버

- 네트워크에 연결된 표준 컴퓨터 시스템에서 동작
- 아파치, W3C의 직소 등 오픈 소스 소프트웨어 활용도 가능하고, MS, 아이플래닛 등 상용 소프트웨어를 활용할 수도 있음
- 웹 서버 소프트웨어는 거의 모든 컴퓨터와 운영체제에서 동작 가능
- 세상에는 수만 가지 종류의 웹 서버 프로그램이 존재하지만 그중 몇 가지 웹 서버 소프트웨어만이 널리 사용됨
  - [웹 사이트들이 어떤 서버를 통해 서비스되고 있는가](https://news.netcraft.com/archives/2022/09/22/september-2022-web-server-survey.html)
  - 아파치 웹 서버가 강세였지만, nginx 서버의 점유율이 수년간 꾸준히 증가하고 있음

### 1.3 임베디드 웹 서버

- 일반 소비자용 제품에 내장될 목적으로 만들어진 작은 웹 서버
  - 프린트나 가전제품에 사용됨
- 사용자가 소비자용 기기를 간편한 웹 브라우저 인터페이스로 관리할 수 있게 해줌
- 몇몇 임베디드 웹 서버는 1제곱인치도 안 되는 크기로 최소한의 기능만을 제공해주는 경우도 있음
  - [아이픽 성냥 머리 크기의 웹 서버](http://web.archive.org/web/20020126140230/http://www-ccs.cs.umass.edu/~shri/iPic.html/)

<br>

## 2. 간단한 펄 웹 서버

- 완전한 기능을 갖춘 HTTP 서버를 만드는 것은 고된 일
  - 아파치 웹 서버의 코어는 50,000줄이 넘는 코드로 되어 있음
  - 부가적인 처리 모듈들을 함께 쓰면 더욱 복잡해짐
- HTTP/1.1 기능들을 지원하려면 풍부한 리소스 지원, 가상 호스팅, 접근 제어, 로깅, 설정, 모니터링 등 각종 기능들 필요
- 하지만 최소한의 기능을 하는 HTTP 서버를 만든다면 30줄 이하의 Perl 코드로도 충분함
