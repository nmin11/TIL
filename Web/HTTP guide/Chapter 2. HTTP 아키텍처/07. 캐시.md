- 웹 캐시는 자주 쓰이는 문서의 사본을 자동으로 보관하는 HTTP 장치
- 웹 요청이 캐시에 도착했을 때, 캐시된 로컬 사본이 존재한다면 문서는 캐시로부터 제공됨

※ 캐시의 혜택

- 불필요한 데이터 전송을 줄여서, 네트워크 요금을 줄여줌
- 네트워크 병목을 줄여주기 때문에 대역폭을 늘리지 않고도 페이지를 빠르게 불러올 수 있게 해줌
- 원 서버에 대한 요청을 줄여줘서 서버의 부하를 줄일 수 있으며 더 빨리 응답할 수 있게 됨
- 거리로 인한 지연을 줄여줌

※ 이 장에서 배울 것

- 캐시가 어떻게 성능을 개선하고 비용을 줄여주는지
- 캐시의 효과를 어떻게 측정하는지
- 캐시의 효과를 극대화하기 위해 캐시를 어디에 위치시켜야 하는지
- HTTP는 어떻게 캐시된 사본을 신선하게 유지하는지
- 캐시가 다른 캐시나 서버와 어떻게 상호작용하는지

<br>

## 1. 불필요한 데이터 전송

- 캐시가 없다면, 다수의 클라이언트가 자주 사용되는 원 서버 페이지에 접근할 때,<br>서버는 똑같은 파일들을 네트워크를 통해 반복해서 이동시켜야 함
- 이 불필요한 데이터 전송은 값비싼 네트워크 대역폭을 잡아먹고, 전송을 느리게 하며, 웹 서버에 부하를 줌
- 캐시가 있으면, 원 서버가 중복해서 트래픽을 주고받는 낭비가 줄어들게 됨

<br>

## 2. 대역폭 병목

- 대다수의 네트워크들은 원격 서버보다 로컬 네트워크 클라이언트에게 더 넓은 대역폭을 제공함
- 클라이언트가 서버에 접근할 때의 속도는 그 경로에 있는 가장 느린 네트워크의 속도와 같음
- 클라이언트가 LAN에 있는 캐시로부터 사본을 가져온다면, 캐싱은 성능을 대폭 개선할 수 있을 것

<br>

## 3. Flash Crowds

- 캐싱은 갑작스런 요청 쇄도에 대처하기 위해 특히 중요함
- 갑작스런 사건 등으로 인한 트래픽 급증은 네트워크와 웹 서버의 심각한 장애를 야기시킴

<br>

## 4. 거리로 인한 지연

- 대역폭 뿐만이 아니라 거리도 문제가 될 수 있음
- 모든 네트워크 라우터들을 지나갈 때마다 인터넷 트래픽 지연이 생김
- 라우터들의 개수 뿐만이 아니라 신호의 속도 자체도 유의미한 지연
  - 보스턴과 샌프란시스코 사이의 거리는 약 4,400km이며 이를 빛의 속도(300,000km/s)로 주파하면 15ms, 왕복은 30ms
    - 하지만 신호의 속도는 빛의 속도보다는 약간 느리다는 점을 또한 감안해야 함
  - 보스턴과 10,800km 떨어진 도쿄와 통신한다면 지연은 600ms로 커짐
    - 복잡한 웹 페이지의 경우 수 초가 걸릴 수도 있는 것
- 캐시와 함께라면 문서가 전송되는 거리를 수천 km에서 수십 m로 줄일 수 있음
