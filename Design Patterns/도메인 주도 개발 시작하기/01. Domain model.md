# Domain model

- 여러 관계자들이 동일한 모습으로 도메인을 이해하고 지식을 공유하는 데 도움을 주는 모델
- 표현 방식
  - class diagram이나 status diagram 같은 UML 표기법
  - 관계도가 중요한 도메인이라면 그래프를 이용
  - 계산 규칙이 중요하다면 수학 공식을 활용
  - 도메인을 이해하는 데 도움이 된다면 표현 방식은 중요치 않음!
- 도메인 모델은 **개념 모델**이며, 이를 코드로 구현할 수 있는 **구현 모델**이 따로 필요!
- 하위 도메인과 모델
  - 각 하위 도메인이 다루는 용어들이 제각각 다르므로, 여러 하위 도메인을 하나의 diagram에 모델링하면 안 됨!
  - 각 하위 도메인은 별도의 모델을 가지고 있어야 함

<br>

# Domain model pattern

<img width="396" alt="domain-model-pattern" src="https://github.com/nmin11/TIL/assets/75058239/2b59157d-93b6-4cb6-a0de-580030cf743e">

|        영역        | 설명                                           |
| :----------------: | :--------------------------------------------- |
| UI or Presentation | 사용자 요청 처리 및 정보 표시                  |
|    Application     | 사용자가 요청한 기능 실행 (도메인 계층을 조합) |
|       Domain       | 시스템이 제공할 도메인 규칙 구현               |
|   Infrastructure   | DB나 messaging 등 외부 시스템과의 연동 처리    |

<br>

# Derive the domain model

- 도메인 모델링의 기본이 되는 작업은 구성, 규칙, 기능을 찾는 것

※ 주문 도메인과 관련된 요구사항들 예시

- 최소 한 종류 이상의 상품을 주문할 것
- 한 상품은 한 개 이상 주문 가능
- 총 주문 금액은 각 상품의 구매 가격을 모두 더한 값
- 각 상품 구매 가격은 상품 가격에 구매 개수를 곱한 값
- 주문할 때 배송지 정보를 반드시 지정할 것
- 배송지 정보는 받는 사람 이름, 전화번호, 주소로 구성됨
- 출고 이후 배송지 변경 불가
- 출고 이전 주문 취소 가능
- 고객의 결제 완료 이전에 상품을 준비하지 않음

→ '배송지 정보 변경', '주문 취소', '결제 완료' 기능을 제공해야 한다는 걸 알 수 있음
